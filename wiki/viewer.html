<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุฑ ูุงุฑฺฉโุฏุงู - ูฺฉ ูููฺฉุณ ูุงุฑุณ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.2/marked.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            /* ุฑูฺฏโูุง ุงุตู */
            --primary: #6750A4;
            --on-primary: #FFFFFF;
            --primary-container: #EADDFF;
            --on-primary-container: #21005D;
            
            /* ุฑูฺฏโูุง ุซุงููู */
            --secondary: #625B71;
            --on-secondary: #FFFFFF;
            --secondary-container: #E8DEF8;
            --on-secondary-container: #1D192B;
            
            /* ุฑูฺฏโูุง ุชุฑุดุงุฑ */
            --tertiary: #7D5260;
            --on-tertiary: #FFFFFF;
            --tertiary-container: #FFD8E4;
            --on-tertiary-container: #31111D;
            
            /* ุฑูฺฏโูุง ุฎุทุง */
            --error: #B3261E;
            --on-error: #FFFFFF;
            --error-container: #F9DEDC;
            --on-error-container: #410E0B;
            
            /* ุฑูฺฏโูุง ูพุณโุฒููู */
            --background: #FFFBFE;
            --on-background: #1C1B1F;
            --surface: #FFFBFE;
            --on-surface: #1C1B1F;
            --surface-variant: #E7E0EC;
            --on-surface-variant: #49454F;
            --outline: #79747E;
            --outline-variant: #CAC4D0;
            --shadow: #000000;
            --inverse-surface: #313033;
            --inverse-on-surface: #F4EFF4;
            --inverse-primary: #D0BCFF;
            --surface-tint: #6750A4;
            
            /* ุฑูฺฏโูุง ููููุช ู ูุดุฏุงุฑ */
            --success: #388E3C;
            --on-success: #FFFFFF;
            --warning: #F57C00;
            --on-warning: #FFFFFF;
            
            /* ุชูโูุง ุฑูฺฏ ุฌุฏุฏ */
            --theme-blue: #1E88E5;
            --theme-green: #43A047;
            --theme-red: #E53935;
            --theme-orange: #FB8C00;
            --theme-purple: #8E24AA;
            --theme-teal: #00897B;
            --theme-amber: #FFB300;
            --theme-pink: #D81B60;
            --theme-indigo: #3949AB;
        }
        
        body.dark-mode {
            --primary: #D0BCFF;
            --on-primary: #381E72;
            --primary-container: #4F378B;
            --on-primary-container: #EADDFF;
            --secondary: #CCC2DC;
            --on-secondary: #332D41;
            --secondary-container: #4A4458;
            --on-secondary-container: #E8DEF8;
            --tertiary: #EFB8C8;
            --on-tertiary: #492532;
            --tertiary-container: #633B48;
            --on-tertiary-container: #FFD8E4;
            --error: #F2B8B5;
            --on-error: #601410;
            --error-container: #8C1D18;
            --on-error-container: #F9DEDC;
            --background: #1C1B1F;
            --on-background: #E6E1E6;
            --surface: #1C1B1F;
            --on-surface: #E6E1E6;
            --surface-variant: #49454F;
            --on-surface-variant: #CAC4D0;
            --outline: #938F99;
            --inverse-surface: #E6E1E6;
            --inverse-on-surface: #313033;
            --inverse-primary: #6750A4;
            --surface-tint: #D0BCFF;
            --success: #4CAF50;
            --on-success: #FFFFFF;
            --warning: #FF9800;
            --on-warning: #FFFFFF;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, var(--primary-container) 0%, var(--tertiary-container) 100%);
            color: var(--on-background);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        /* ุงููุดูโูุง ฺฉู */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        
        @keyframes highlight {
            0% { background-color: rgba(255, 255, 0, 0.4); }
            100% { background-color: rgba(255, 255, 0, 0); }
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes glow {
            0% { box-shadow: 0 0 5px var(--primary); }
            50% { box-shadow: 0 0 20px var(--primary), 0 0 30px var(--primary); }
            100% { box-shadow: 0 0 5px var(--primary); }
        }
        
        /* ููุงุฑ ูพุดุฑูุช ุฎูุงูุฏู */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--outline-variant);
            z-index: 1000;
        }
        
        .reading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--tertiary));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        /* ฺฉุงูุชูุฑ ุงุตู */
        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 2rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transition: all 0.3s ease;
            width: 90%;
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease;
        }
        
        .dark-mode .container {
            background: rgba(28, 27, 31, 0.95);
        }
        
        /* ูุฏุฑ */
        .header {
            background: var(--surface);
            border-bottom: 1px solid var(--outline-variant);
            padding: 1.5rem;
            border-radius: 1.5rem 1.5rem 0 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            position: sticky;
            top: 0;
            z-index: 100;
            animation: slideDown 0.5s ease;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .header-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--on-surface);
            flex-grow: 1;
            text-align: center;
            background: linear-gradient(90deg, var(--primary), var(--tertiary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* ููุงุฑ ุงุจุฒุงุฑ */
        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            animation: slideDown 0.6s ease;
        }
        
        .toolbar-section {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        
        /* ุฏฺฉููโูุง */
        .btn {
            background: var(--secondary-container);
            color: var(--on-secondary-container);
            border: none;
            border-radius: 1rem;
            padding: 0.6rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn:hover {
            background: var(--primary);
            color: var(--on-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(103, 80, 164, 0.3);
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--on-primary);
            box-shadow: 0 2px 8px rgba(103, 80, 164, 0.3);
        }
        
        .btn-primary:hover {
            box-shadow: 0 4px 12px rgba(103, 80, 164, 0.4);
        }
        
        .btn-icon {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ุฌุณุชุฌู */
        .search-container {
            position: relative;
            width: 100%;
            max-width: 500px;
        }
        
        .search-input {
            width: 100%;
            background: var(--surface-variant);
            color: var(--on-surface-variant);
            border: 2px solid var(--outline-variant);
            border-radius: 2rem;
            padding: 0.8rem 1rem 0.8rem 3rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(103, 80, 164, 0.1);
            outline: none;
        }
        
        .search-btn {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 2px 8px rgba(103, 80, 164, 0.4);
        }
        
        /* ูุญุชูุง ุงุตู */
        .content-wrapper {
            display: flex;
            gap: 2rem;
            animation: fadeIn 0.7s ease;
        }
        
        .main-content {
            flex: 1;
            min-width: 0;
        }
        
        .sidebar {
            width: 300px;
            flex-shrink: 0;
            position: sticky;
            top: 120px;
            height: fit-content;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }
        
        /* ูุงุฑฺฉโุฏุงู */
        .markdown-content {
            background: var(--surface);
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            line-height: 1.8;
            direction: rtl;
            text-align: justify;
            position: relative;
            overflow: hidden;
        }
        
        .markdown-content::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--primary), var(--tertiary));
            opacity: 0.1;
            border-radius: 0 0 0 100%;
        }
        
        .markdown-content h1 {
            color: var(--primary);
            font-size: 2.2rem;
            font-weight: 700;
            margin: 1.5rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--primary);
            position: relative;
        }
        
        .markdown-content h1::after {
            content: '';
            position: absolute;
            bottom: -3px;
            right: 0;
            width: 50px;
            height: 3px;
            background: var(--tertiary);
        }
        
        .markdown-content h2 {
            color: var(--on-surface);
            font-size: 1.8rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--outline-variant);
        }
        
        .markdown-content h3 {
            color: var(--on-surface);
            font-size: 1.5rem;
            font-weight: 600;
            margin: 1.5rem 0 0.8rem;
        }
        
        .markdown-content p {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        .markdown-content ul, .markdown-content ol {
            margin: 1rem 0;
            padding-right: 1.5rem;
        }
        
        .markdown-content li {
            margin-bottom: 0.5rem;
            position: relative;
        }
        
        .markdown-content li::before {
            content: 'โข';
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            right: -1rem;
        }
        
        .markdown-content blockquote {
            border-right: 4px solid var(--primary);
            margin: 1.5rem 0;
            padding: 1rem 1.5rem;
            background: var(--primary-container);
            border-radius: 0 1rem 1rem 0;
            font-style: italic;
            position: relative;
        }
        
        .markdown-content blockquote::before {
            content: '"';
            font-size: 3rem;
            color: var(--primary);
            opacity: 0.3;
            position: absolute;
            top: -10px;
            right: 10px;
        }
        
        .markdown-content code {
            background: var(--surface-variant);
            padding: 0.2rem 0.5rem;
            border-radius: 0.3rem;
            font-family: monospace;
            font-size: 0.9em;
            color: var(--primary);
        }
        
        .markdown-content pre {
            background: var(--surface-variant);
            padding: 1.5rem;
            border-radius: 1rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            position: relative;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .markdown-content pre code {
            background: none;
            padding: 0;
            color: inherit;
        }
        
        .markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border-radius: 1rem;
            overflow: hidden;
        }
        
        .markdown-content th, .markdown-content td {
            border: 1px solid var(--outline-variant);
            padding: 0.8rem;
            text-align: right;
        }
        
        .markdown-content th {
            background: var(--secondary-container);
            font-weight: 600;
            color: var(--on-secondary-container);
        }
        
        .markdown-content tr:nth-child(even) {
            background: var(--surface-variant);
        }
        
        .markdown-content img {
            max-width: 100%;
            height: auto;
            border-radius: 1rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .markdown-content img:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .markdown-content a {
            color: var(--primary);
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .markdown-content a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            right: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s ease;
        }
        
        .markdown-content a:hover {
            color: var(--primary-container);
        }
        
        .markdown-content a:hover::after {
            width: 100%;
        }
        
        /* ููุงุฑ ฺฉูุงุฑ */
        .sidebar-section {
            background: var(--surface);
            border-radius: 1.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .sidebar-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }
        
        .sidebar-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--on-surface);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* ุชฺฏโูุง */
        .tag-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .tag {
            background: var(--secondary-container);
            color: var(--on-secondary-container);
            padding: 0.4rem 0.8rem;
            border-radius: 1rem;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .tag::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .tag:hover::before {
            width: 100px;
            height: 100px;
        }
        
        .tag:hover {
            background: var(--primary);
            color: var(--on-primary);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 8px rgba(103, 80, 164, 0.3);
        }
        
        .tag.active {
            background: var(--primary);
            color: var(--on-primary);
            animation: pulse 2s infinite;
        }
        
        /* ููุฑุณุช ูุทุงูุจ */
        .toc {
            max-height: 400px;
            overflow-y: auto;
            padding-right: 0.5rem;
        }
        
        .toc::-webkit-scrollbar {
            width: 6px;
        }
        
        .toc::-webkit-scrollbar-track {
            background: var(--surface-variant);
            border-radius: 3px;
        }
        
        .toc::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }
        
        .toc-item {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--outline-variant);
            transition: all 0.3s ease;
        }
        
        .toc-item:hover {
            padding-right: 0.5rem;
        }
        
        .toc-item:last-child {
            border-bottom: none;
        }
        
        .toc-link {
            color: var(--on-surface-variant);
            text-decoration: none;
            display: block;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .toc-link::before {
            content: 'โถ';
            position: absolute;
            right: -1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.7rem;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .toc-link:hover {
            color: var(--primary);
            padding-right: 0.5rem;
        }
        
        .toc-link:hover::before {
            opacity: 1;
            right: -1.5rem;
        }
        
        .toc-link.active {
            color: var(--primary);
            font-weight: 600;
            padding-right: 0.5rem;
        }
        
        .toc-link.active::before {
            opacity: 1;
            right: -1.5rem;
        }
        
        /* ุงุทูุงุนุงุช ููุงูู */
        .meta-info {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--on-surface-variant);
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .meta-item:hover {
            color: var(--primary);
            transform: translateX(-5px);
        }
        
        .meta-item i {
            color: var(--primary);
            transition: all 0.3s ease;
        }
        
        .meta-item:hover i {
            transform: scale(1.2);
        }
        
        /* ุฏฺฉููโูุง ุดูุงูุฑ */
        .fab {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            z-index: 100;
            animation: float 3s ease-in-out infinite;
        }
        
        .fab:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            animation: glow 2s ease-in-out infinite;
        }
        
        /* ููุฏุงูโูุง */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease forwards;
        }
        
        .modal-content {
            background: var(--surface);
            padding: 2rem;
            border-radius: 2rem;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s ease forwards;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
        }
        
        .close-button {
            position: absolute;
            top: 15px;
            left: 20px;
            color: var(--outline);
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .close-button:hover {
            color: var(--on-surface);
            transform: rotate(90deg);
        }
        
        /* ุงุนูุงูโูุง */
        .toast-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        }
        
        .toast {
            background: var(--inverse-surface);
            color: var(--inverse-on-surface);
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(20px);
            animation: toast-fade-in 0.3s forwards, toast-fade-out 0.3s 2.7s forwards;
            min-width: 250px;
            text-align: center;
            font-size: 0.9rem;
            pointer-events: auto;
            position: relative;
            overflow: hidden;
        }
        
        .toast::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary);
        }
        
        .toast.error::before {
            background: var(--error);
        }
        
        .toast.success::before {
            background: var(--success);
        }
        
        .toast.error {
            background: var(--error);
            color: var(--on-error);
        }
        
        .toast.success {
            background: var(--success);
            color: var(--on-success);
        }
        
        @keyframes toast-fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes toast-fade-out {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(20px); }
        }
        
        /* ุชูโูุง ุฑูฺฏ */
        .theme-selector {
            display: flex;
            gap: 0.5rem;
            margin: 1rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .theme-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .theme-option:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
        
        .theme-option.active {
            border-color: var(--on-surface);
            transform: scale(1.2);
        }
        
        .theme-option.active::after {
            content: 'โ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            text-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
        }
        
        .theme-default { background: var(--primary); }
        .theme-blue { background: var(--theme-blue); }
        .theme-green { background: var(--theme-green); }
        .theme-red { background: var(--theme-red); }
        .theme-orange { background: var(--theme-orange); }
        .theme-purple { background: var(--theme-purple); }
        .theme-teal { background: var(--theme-teal); }
        .theme-amber { background: var(--theme-amber); }
        .theme-pink { background: var(--theme-pink); }
        .theme-indigo { background: var(--theme-indigo); }
        
        /* ุญุงูุชโูุง ููุงุด */
        .view-mode-controls {
            display: flex;
            gap: 0.5rem;
        }
        
        .view-mode-btn {
            background: var(--surface-variant);
            color: var(--on-surface-variant);
            border: none;
            border-radius: 0.5rem;
            padding: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .view-mode-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .view-mode-btn:hover::before {
            width: 100px;
            height: 100px;
        }
        
        .view-mode-btn:hover {
            background: var(--primary);
            color: var(--on-primary);
            transform: translateY(-2px);
        }
        
        .view-mode-btn.active {
            background: var(--primary);
            color: var(--on-primary);
            animation: pulse 2s infinite;
        }
        
        /* ุญุงูุช ุฎูุงูุฏู */
        body.reading-mode .sidebar {
            display: none;
        }
        
        body.reading-mode .markdown-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.1rem;
            line-height: 2;
        }
        
        /* ุญุงูุช ุดุจ */
        body.night-mode {
            --primary: #BB86FC;
            --on-primary: #000000;
            --primary-container: #EADDFF;
            --on-primary-container: #21005D;
            --background: #121212;
            --on-background: #E6E1E6;
            --surface: #1E1E1E;
            --on-surface: #E6E1E6;
            --surface-variant: #49454F;
            --on-surface-variant: #CAC4D0;
        }
        
        /* ุญุงูุช ุชูุฑฺฉุฒ */
        body.focus-mode .header,
        body.focus-mode .toolbar,
        body.focus-mode .sidebar {
            display: none;
        }
        
        body.focus-mode .container {
            max-width: 900px;
            margin: 1rem auto;
        }
        
        /* ูุงูุงุช ุฌุณุชุฌู */
        .search-highlight {
            background: rgba(255, 255, 0, 0.4);
            padding: 0 2px;
            border-radius: 2px;
            animation: highlight 1s ease;
        }
        
        /* ฺฉูพ ฺฉุฏ */
        .copy-code-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            border-radius: 0.5rem;
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        pre:hover .copy-code-btn {
            opacity: 1;
        }
        
        .copy-code-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(103, 80, 164, 0.4);
        }
        
        /* ูุงุชโุจุงฺฉุณ ุชุตุงูุฑ */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            justify-content: center;
            align-items: center;
            cursor: pointer;
            animation: fadeIn 0.3s ease;
        }
        
        .lightbox img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 1rem;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
            animation: slideUp 0.5s ease;
        }
        
        /* ูุธุฑุงุช */
        .comments-section {
            margin-top: 3rem;
            animation: fadeIn 0.8s ease;
        }
        
        .comment-form {
            background: var(--surface-variant);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .comment-form::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--primary), var(--tertiary));
            opacity: 0.1;
            border-radius: 0 0 0 100%;
        }
        
        .comment-input {
            width: 100%;
            background: var(--surface);
            color: var(--on-surface);
            border: 2px solid var(--outline-variant);
            border-radius: 1rem;
            padding: 1rem;
            font-size: 1rem;
            resize: vertical;
            min-height: 100px;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        
        .comment-input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(103, 80, 164, 0.1);
        }
        
        .comment {
            background: var(--surface);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .comment::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--tertiary));
            opacity: 0.1;
            border-radius: 0 0 0 50%;
        }
        
        .comment:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        }
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .comment-author {
            font-weight: 600;
            color: var(--on-surface);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .comment-author::before {
            content: '๐ค';
            font-size: 1.2rem;
        }
        
        .comment-date {
            font-size: 0.85rem;
            color: var(--on-surface-variant);
        }
        
        .comment-text {
            color: var(--on-surface);
            line-height: 1.6;
        }
        
        /* ูุงฺฏ ุจุงุฑฺฏุฐุงุฑ */
        .loading-log {
            background: var(--surface-variant);
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 1rem;
            font-family: monospace;
            font-size: 0.9rem;
            max-height: 200px;
            overflow-y: auto;
            direction: ltr;
            text-align: left;
        }
        
        .log-entry {
            margin-bottom: 0.5rem;
            padding: 0.3rem 0.5rem;
            border-radius: 0.3rem;
        }
        
        .log-info {
            background: rgba(33, 150, 243, 0.1);
            color: #2196F3;
        }
        
        .log-error {
            background: rgba(244, 67, 54, 0.1);
            color: #F44336;
        }
        
        .log-success {
            background: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
        }
        
        /* ุฑุณูพุงูุณู */
        @media (max-width: 1024px) {
            .content-wrapper {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                order: 2;
                position: static;
                max-height: none;
            }
            
            .main-content {
                order: 1;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 1rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .header-title {
                font-size: 1.5rem;
                text-align: center;
            }
            
            .toolbar {
                justify-content: center;
            }
            
            .search-container {
                max-width: 100%;
            }
            
            .markdown-content {
                padding: 1.5rem;
            }
            
            .markdown-content h1 {
                font-size: 1.8rem;
            }
            
            .markdown-content h2 {
                font-size: 1.5rem;
            }
            
            .fab {
                bottom: 15px;
                right: 15px;
                width: 48px;
                height: 48px;
            }
        }
        
        /* ุฏุณุชุฑุณโูพุฐุฑ */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: var(--on-primary);
            padding: 8px;
            text-decoration: none;
            border-radius: 0 0 4px 0;
            z-index: 100;
            transition: top 0.3s ease;
        }
        
        .skip-link:focus {
            top: 0;
        }
        
        /* ุงููุดูโูุง ููุฏูฺฏ */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            flex-direction: column;
            gap: 1rem;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--outline-variant);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ฺุงูพ */
        @media print {
            body {
                background: white;
                color: black;
            }
            
            .container {
                box-shadow: none;
                margin: 0;
                padding: 0;
            }
            
            .header, .toolbar, .sidebar, .fab, .reading-progress {
                display: none;
            }
            
            .markdown-content {
                box-shadow: none;
                padding: 0;
            }
        }
        
        /* ุดูุงุฑู ุฎุทูุท ฺฉุฏ */
        .line-numbers .line-numbers-rows {
            position: absolute;
            pointer-events: none;
            top: 1em;
            font-size: 100%;
            left: -3.8em;
            width: 3em;
            letter-spacing: -1px;
            border-right: 1px solid #999;
            user-select: none;
        }
        
        .line-numbers-rows > span:before {
            content: counter(linenumber);
            counter-increment: linenumber;
            display: block;
            text-align: right;
            color: #999;
        }
    </style>
</head>
<body>
    <!-- ููุงุฑ ูพุดุฑูุช ุฎูุงูุฏู -->
    <div class="reading-progress">
        <div class="reading-progress-bar" id="readingProgressBar"></div>
    </div>
    
    <!-- ููฺฉ ูพุฑุด ุจู ูุญุชูุง ุจุฑุง ุฏุณุชุฑุณโูพุฐุฑ -->
    <a href="#content" class="skip-link">ูพุฑุด ุจู ูุญุชูุง</a>
    
    <!-- ฺฉุงูุชูุฑ ุงุนูุงูโูุง -->
    <div class="toast-container" id="toastContainer" aria-live="polite" aria-atomic="true"></div>
    
    <!-- ูุฏุฑ -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="btn btn-primary">
                <i class="fas fa-home"></i>
                ุตูุญู ุงุตู
            </a>
            <h1 class="header-title" id="articleTitle">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</h1>
            <div class="toolbar-section">
                <button class="btn btn-icon" onclick="toggleDarkMode()" title="ุชุบุฑ ุญุงูุช ุชุงุฑฺฉ">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-icon" onclick="shareArticle()" title="ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ">
                    <i class="fas fa-share-alt"></i>
                </button>
                <button class="btn btn-icon" onclick="window.print()" title="ฺุงูพ">
                    <i class="fas fa-print"></i>
                </button>
                <button class="btn btn-icon" onclick="downloadMarkdown()" title="ุฏุงูููุฏ">
                    <i class="fas fa-download"></i>
                </button>
            </div>
        </div>
    </header>
    
    <!-- ููุงุฑ ุงุจุฒุงุฑ -->
    <div class="toolbar">
        <div class="toolbar-section">
            <!-- ุฌุณุชุฌู -->
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="ุฌุณุชุฌู ุฏุฑ ููุงูู..." aria-label="ุฌุณุชุฌู ุฏุฑ ููุงูู">
                <button class="search-btn" onclick="searchInArticle()" aria-label="ุฌุณุชุฌู">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
        
        <div class="toolbar-section">
            <!-- ุญุงูุชโูุง ููุงุด -->
            <div class="view-mode-controls">
                <button class="view-mode-btn active" data-mode="normal" onclick="setViewMode('normal', this)" title="ุญุงูุช ุนุงุฏ">
                    <i class="fas fa-file-alt"></i>
                </button>
                <button class="view-mode-btn" data-mode="reading" onclick="setViewMode('reading', this)" title="ุญุงูุช ุฎูุงูุฏู">
                    <i class="fas fa-book-open"></i>
                </button>
                <button class="view-mode-btn" data-mode="night" onclick="setViewMode('night', this)" title="ุญุงูุช ุดุจ">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="view-mode-btn" data-mode="focus" onclick="setViewMode('focus', this)" title="ุญุงูุช ุชูุฑฺฉุฒ">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
            
            <!-- ฺฉูุชุฑู ูููุช -->
            <button class="btn btn-icon" onclick="decreaseFontSize()" title="ฺฉุงูุด ุงูุฏุงุฒู ูููุช">
                <i class="fas fa-minus"></i>
            </button>
            <button class="btn btn-icon" onclick="increaseFontSize()" title="ุงูุฒุงุด ุงูุฏุงุฒู ูููุช">
                <i class="fas fa-plus"></i>
            </button>
            
            <!-- ุชูุธูุงุช -->
            <button class="btn btn-icon" onclick="openModal('settingsModal')" title="ุชูุธูุงุช">
                <i class="fas fa-cog"></i>
            </button>
        </div>
    </div>
    
    <!-- ูุญุชูุง ุงุตู -->
    <div class="container">
        <div class="content-wrapper" id="content">
            <!-- ูุญุชูุง ุงุตู -->
            <main class="main-content">
                <!-- ูุงฺฏ ุจุงุฑฺฏุฐุงุฑ -->
                <div class="loading-log" id="loadingLog" style="display: none;">
                    <div class="log-entry log-info">ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ูุงู...</div>
                </div>
                
                <div id="markdownContent" class="markdown-content">
                    <div class="loading flex flex-col items-center justify-center py-16">
                        <div class="spinner mb-4"></div>
                        <p class="text-gray-600">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ููุงูู...</p>
                    </div>
                </div>
                
                <!-- ุจุฎุด ูุธุฑุงุช -->
                <div class="comments-section">
                    <h2>ูุธุฑุงุช ู ุจุงุฒุฎูุฑุฏ</h2>
                    
                    <!-- ูุฑู ูุธุฑ -->
                    <div class="comment-form">
                        <h3>ุงุฑุณุงู ูุธุฑ</h3>
                        <textarea class="comment-input" id="commentInput" placeholder="ูุธุฑ ุฎูุฏ ุฑุง ุงูุฌุง ุจููุณุฏ..." aria-label="ูุชู ูุธุฑ"></textarea>
                        <button class="btn btn-primary" onclick="submitComment()">
                            <i class="fas fa-paper-plane"></i>
                            ุงุฑุณุงู ูุธุฑ
                        </button>
                    </div>
                    
                    <!-- ูุณุช ูุธุฑุงุช -->
                    <div id="commentsList">
                        <!-- ูุธุฑุงุช ุงุฒ ุทุฑู ุฌุงูุง ุงุณฺฉุฑูพุช ุจุงุฑฺฏุฐุงุฑ ูโุดููุฏ -->
                    </div>
                </div>
            </main>
            
            <!-- ููุงุฑ ฺฉูุงุฑ -->
            <aside class="sidebar">
                <!-- ููุฑุณุช ูุทุงูุจ -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-list"></i>
                        ููุฑุณุช ูุทุงูุจ
                    </h3>
                    <div class="toc" id="tableOfContents">
                        <!-- ููุฑุณุช ูุทุงูุจ ุงุฒ ุทุฑู ุฌุงูุง ุงุณฺฉุฑูพุช ุชููุฏ ูโุดูุฏ -->
                    </div>
                </div>
                
                <!-- ุชฺฏโูุง -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-tags"></i>
                        ุชฺฏโูุง
                    </h3>
                    <div class="tag-cloud" id="tagsCloud">
                        <!-- ุชฺฏโูุง ุงุฒ ุทุฑู ุฌุงูุง ุงุณฺฉุฑูพุช ุชููุฏ ูโุดููุฏ -->
                    </div>
                </div>
                
                <!-- ุงุทูุงุนุงุช ููุงูู -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-info-circle"></i>
                        ุงุทูุงุนุงุช ููุงูู
                    </h3>
                    <div class="meta-info">
                        <div class="meta-item">
                            <i class="fas fa-calendar"></i>
                            <span id="metaDate">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-clock"></i>
                            <span id="metaReadingTime">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-file-word"></i>
                            <span id="metaWordCount">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-eye"></i>
                            <span id="metaViews">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-star"></i>
                            <span id="metaRating">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</span>
                        </div>
                    </div>
                </div>
                
                <!-- ููุงูุงุช ูุฑุชุจุท -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-bookmark"></i>
                        ููุงูุงุช ูุฑุชุจุท
                    </h3>
                    <div id="relatedArticles">
                        <!-- ููุงูุงุช ูุฑุชุจุท ุงุฒ ุทุฑู ุฌุงูุง ุงุณฺฉุฑูพุช ุจุงุฑฺฏุฐุงุฑ ูโุดููุฏ -->
                    </div>
                </div>
            </aside>
        </div>
    </div>
    
    <!-- ุฏฺฉููโูุง ุดูุงูุฑ -->
    <button class="fab" onclick="scrollToTop()" title="ุจุงุฒฺฏุดุช ุจู ุจุงูุง">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <button class="fab" style="bottom: 90px;" onclick="toggleBookmark()" title="ูุดุงูโฺฏุฐุงุฑ">
        <i class="fas fa-bookmark" id="bookmarkIcon"></i>
    </button>
    
    <!-- ูุงุชโุจุงฺฉุณ ุชุตุงูุฑ -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <img src="" alt="" id="lightboxImage">
    </div>
    
    <!-- ููุฏุงู ุชูุธูุงุช -->
    <div id="settingsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settingsModalTitle">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('settingsModal')" aria-label="ุจุณุชู">&times;</span>
            <h3 id="settingsModalTitle" class="text-2xl font-bold mb-4">ุชูุธูุงุช</h3>
            
            <!-- ุชู ุฑูฺฏ -->
            <div class="mb-4">
                <h4 class="text-lg font-semibold mb-2">ุชู ุฑูฺฏ</h4>
                <div class="theme-selector">
                    <div class="theme-option theme-default active" onclick="setTheme('default')"></div>
                    <div class="theme-option theme-blue" onclick="setTheme('blue')"></div>
                    <div class="theme-option theme-green" onclick="setTheme('green')"></div>
                    <div class="theme-option theme-red" onclick="setTheme('red')"></div>
                    <div class="theme-option theme-orange" onclick="setTheme('orange')"></div>
                    <div class="theme-option theme-purple" onclick="setTheme('purple')"></div>
                    <div class="theme-option theme-teal" onclick="setTheme('teal')"></div>
                    <div class="theme-option theme-amber" onclick="setTheme('amber')"></div>
                    <div class="theme-option theme-pink" onclick="setTheme('pink')"></div>
                    <div class="theme-option theme-indigo" onclick="setTheme('indigo')"></div>
                </div>
            </div>
            
            <!-- ุชูุธูุงุช ูููุช -->
            <div class="mb-4">
                <h4 class="text-lg font-semibold mb-2">ุชูุธูุงุช ูููุช</h4>
                <div class="flex items-center gap-4">
                    <label>
                        <input type="checkbox" id="justifyText" checked> ุชุฑุงุฒ ูุชู
                    </label>
                    <label>
                        <input type="checkbox" id="lineNumbers" checked> ุดูุงุฑู ุฎุทูุท ฺฉุฏ
                    </label>
                </div>
            </div>
            
            <!-- ุชูุธูุงุช ูพุดุฑูุชู -->
            <div class="mb-4">
                <h4 class="text-lg font-semibold mb-2">ุชูุธูุงุช ูพุดุฑูุชู</h4>
                <div class="flex items-center gap-4">
                    <label>
                        <input type="checkbox" id="autoSave" checked> ุฐุฎุฑู ุฎูุฏฺฉุงุฑ ูููุนุช
                    </label>
                    <label>
                        <input type="checkbox" id="loadImages" checked> ุจุงุฑฺฏุฐุงุฑ ุชุตุงูุฑ
                    </label>
                </div>
            </div>
            
            <button class="btn btn-primary w-full" onclick="saveSettings()">
                <i class="fas fa-save"></i>
                ุฐุฎุฑู ุชูุธูุงุช
            </button>
        </div>
    </div>
    
    <script>
        // ูุชุบุฑูุง ุงุตู
        let currentFile = null;
        let currentContent = null;
        let isDarkMode = false;
        let fontSize = 16;
        let currentViewMode = 'normal';
        let isBookmarked = false;
        let searchHighlights = [];
        let currentSearchIndex = 0;
        let allFileNames = [];
        let loadingLog = [];
        
        // ุณุณุชู ุชฺฏโูุง
        const tagSystem = {
            // ุชฺฏโูุง ฺฉุงูู ุจุง ฺฉููุงุช ฺฉูุฏ
            allTags: {
                // ุชูุฒุนโูุง
                'ubuntu': {
                    name: 'ุงูุจููุชู',
                    keywords: ['ubuntu', 'ุงูุจููุชู', 'ุงุจููุชู', 'ubunto']
                },
                'arch': {
                    name: 'ุขุฑฺ ูููฺฉุณ',
                    keywords: ['arch', 'ุขุฑฺ', 'ุงุฑฺ', 'arch linux']
                },
                'fedora': {
                    name: 'ูุฏูุฑุง',
                    keywords: ['fedora', 'ูุฏูุฑุง', 'fedora linux']
                },
                'debian': {
                    name: 'ุฏุจุงู',
                    keywords: ['debian', 'ุฏุจุงู', 'ุฏุจุงู ฺฏูู/ูููฺฉุณ']
                },
                'centos': {
                    name: 'ุณูโุชโุงูโุงุณ',
                    keywords: ['centos', 'ุณูุชูุณ', 'cent os']
                },
                'opensuse': {
                    name: 'ุงููพูโุณูุฒู',
                    keywords: ['opensuse', 'ุงููพู ุณูุฒู', 'suse', 'ุณูุฒู']
                },
                'mint': {
                    name: 'ูููฺฉุณ ููุช',
                    keywords: ['mint', 'ููุช', 'linux mint']
                },
                'manjaro': {
                    name: 'ูุงูุฌุงุฑู',
                    keywords: ['manjaro', 'ูุงูุฌุงุฑู', 'manjaro linux']
                },
                'elementary': {
                    name: 'ุงูููุชุฑ',
                    keywords: ['elementary', 'ุงูููุชุฑ', 'elementary os']
                },
                'zorin': {
                    name: 'ุฒูุฑู',
                    keywords: ['zorin', 'ุฒูุฑู', 'zorin os']
                },
                
                // ุฏุณุชูุฑุงุช
                'bash': {
                    name: 'ุจุด',
                    keywords: ['bash', 'ุจุด', 'shell', 'ุดู', 'terminal', 'ุชุฑููุงู']
                },
                'grep': {
                    name: 'ฺฏุฑูพ',
                    keywords: ['grep', 'ฺฏุฑูพ', 'ุฌุณุชุฌู ุฏุฑ ูุชู']
                },
                'sed': {
                    name: 'ุณุฏ',
                    keywords: ['sed', 'ุณุฏ', 'ูุฑุงุด ุฌุฑุงู']
                },
                'awk': {
                    name: 'ุขูฺฉ',
                    keywords: ['awk', 'ุขูฺฉ', 'ูพุฑุฏุงุฒุด ูุชู']
                },
                'find': {
                    name: 'ูุงูุฏ',
                    keywords: ['find', 'ูุงูุฏ', 'ุงูุชู ูุงู']
                },
                'chmod': {
                    name: 'ฺููุฏ',
                    keywords: ['chmod', 'ฺููุฏ', 'ุชุบุฑ ูุฌูุฒ']
                },
                'chown': {
                    name: 'ฺุงูู',
                    keywords: ['chown', 'ฺุงูู', 'ุชุบุฑ ูุงูฺฉ']
                },
                'ssh': {
                    name: 'ุงุณโุงุณโุงฺ',
                    keywords: ['ssh', 'ุงุณ ุงุณ ุงฺ', 'ุงุชุตุงู ุงูู']
                },
                'scp': {
                    name: 'ุงุณโุณโูพ',
                    keywords: ['scp', 'ุงุณ ุณ ูพ', 'ฺฉูพ ุงูู']
                },
                'rsync': {
                    name: 'ุขุฑุณูฺฉ',
                    keywords: ['rsync', 'ุขุฑ ุณูฺฉ', 'ููฺฏุงูโุณุงุฒ ุงุฒ ุฑุงู ุฏูุฑ']
                },
                
                // ุณุฑูุฑูุง
                'apache': {
                    name: 'ุขูพุงฺ',
                    keywords: ['apache', 'ุขูพุงฺ', 'httpd', 'ูุจ ุณุฑูุฑ']
                },
                'nginx': {
                    name: 'ุงูุฌูโุงฺฉุณ',
                    keywords: ['nginx', 'ุงูุฌู ุงฺฉุณ', 'ูุจ ุณุฑูุฑ']
                },
                'mysql': {
                    name: 'ูุงโุงุณโฺฉูุงู',
                    keywords: ['mysql', 'ูุง ุงุณ ฺฉูุงู', 'ุฏุชุงุจุณ']
                },
                'postgresql': {
                    name: 'ูพุณุชฺฏุฑุณโฺฉูุงู',
                    keywords: ['postgresql', 'ูพุณุชฺฏุฑุณ', 'ุฏุชุงุจุณ']
                },
                'mongodb': {
                    name: 'ูุงูฺฏูโุฏโุจ',
                    keywords: ['mongodb', 'ูุงูฺฏู ุฏ ุจ', 'ุฏุชุงุจุณ']
                },
                'redis': {
                    name: 'ุฑุฏุณ',
                    keywords: ['redis', 'ุฑุฏุณ', 'ุญุงูุธู ููุงู']
                },
                'ftp': {
                    name: 'ุงูโุชโูพ',
                    keywords: ['ftp', 'ุงู ุช ูพ', 'ุงูุชูุงู ูุงู']
                },
                'samba': {
                    name: 'ุณุงูุจุง',
                    keywords: ['samba', 'ุณุงูุจุง', 'ุงุดุชุฑุงฺฉ ูุงู']
                },
                'bind': {
                    name: 'ุจุงูุฏ',
                    keywords: ['bind', 'ุจุงูุฏ', 'ุฏโุงูโุงุณ']
                },
                'postfix': {
                    name: 'ูพุณุชูฺฉุณ',
                    keywords: ['postfix', 'ูพุณุชูฺฉุณ', 'ุณุฑูุฑ ุงูู']
                },
                
                // ูุญุท ุฏุณฺฉุชุงูพ
                'gnome': {
                    name: 'ฺฏููู',
                    keywords: ['gnome', 'ฺฏููู', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'kde': {
                    name: 'ฺฉุฏโุง',
                    keywords: ['kde', 'ฺฉุฏ ุง', 'ูพูุงุณูุง', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'xfce': {
                    name: 'ุงฺฉุณโุงูโุณโุง',
                    keywords: ['xfce', 'ุงฺฉุณ ุงู ุณ ุง', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'lxde': {
                    name: 'ุงูโุงฺฉุณโุฏโุง',
                    keywords: ['lxde', 'ุงู ุงฺฉุณ ุฏ ุง', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'cinnamon': {
                    name: 'ุณูุงููู',
                    keywords: ['cinnamon', 'ุณูุงููู', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'mate': {
                    name: 'ูุช',
                    keywords: ['mate', 'ูุช', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'budgie': {
                    name: 'ุจุงุฌ',
                    keywords: ['budgie', 'ุจุงุฌ', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'pantheon': {
                    name: 'ูพุงูุชุฆูู',
                    keywords: ['pantheon', 'ูพุงูุชุฆูู', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'deepin': {
                    name: 'ุฏูพู',
                    keywords: ['deepin', 'ุฏูพู', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                'unity': {
                    name: 'ููุช',
                    keywords: ['unity', 'ููุช', 'ูุญุท ุฏุณฺฉุชุงูพ']
                },
                
                // ุงููุช
                'firewall': {
                    name: 'ูุงุฑูุงู',
                    keywords: ['firewall', 'ูุงุฑูุงู', 'iptables', 'ufw']
                },
                'selinux': {
                    name: 'ุงุณโุงโูููฺฉุณ',
                    keywords: ['selinux', 'ุงุณ ุง ูููฺฉุณ', 'ุงููุช']
                },
                'apparmor': {
                    name: 'ุงูพโุขุฑููุฑ',
                    keywords: ['apparmor', 'ุงูพ ุขุฑููุฑ', 'ุงููุช']
                },
                'fail2ban': {
                    name: 'ููโุชูโุจู',
                    keywords: ['fail2ban', 'ูู ุชู ุจู', 'ุงููุช']
                },
                'clamav': {
                    name: 'ฺฉููุงู',
                    keywords: ['clamav', 'ฺฉููุงู', 'ุขูุชโูุฑูุณ']
                },
                'gpg': {
                    name: 'ุฌโูพโุฌ',
                    keywords: ['gpg', 'ุฌ ูพ ุฌ', 'ุฑูุฒูฺฏุงุฑ']
                },
                'openssl': {
                    name: 'ุงููพูโุงุณโุงุณโุงู',
                    keywords: ['openssl', 'ุงููพู ุงุณ ุงุณ ุงู', 'ุฑูุฒูฺฏุงุฑ']
                },
                'vpn': {
                    name: 'ูโูพโุงู',
                    keywords: ['vpn', 'ู ูพ ุงู', 'ุดุจฺฉู ุฎุตูุต ูุฌุงุฒ']
                },
                'tor': {
                    name: 'ุชูุฑ',
                    keywords: ['tor', 'ุชูุฑ', 'ูุงุดูุงุณ ุจูุฏู']
                },
                'audit': {
                    name: 'ุงุฏุช',
                    keywords: ['audit', 'ุงุฏุช', 'ุจุงุฒุฑุณ ุงููุช']
                },
                
                // ุดุจฺฉู
                'networking': {
                    name: 'ุดุจฺฉู',
                    keywords: ['networking', 'ุดุจฺฉู', 'network', 'ูุชูุฑฺฉ']
                },
                'netplan': {
                    name: 'ูุชโูพูู',
                    keywords: ['netplan', 'ูุช ูพูู', 'ูพฺฉุฑุจูุฏ ุดุจฺฉู']
                },
                'networkmanager': {
                    name: 'ูุฏุฑุช ุดุจฺฉู',
                    keywords: ['networkmanager', 'ูุฏุฑุช ุดุจฺฉู', 'nmcli']
                },
                'dhcp': {
                    name: 'ุฏโุงฺโุณโูพ',
                    keywords: ['dhcp', 'ุฏ ุงฺ ุณ ูพ', 'ุงุฎุชุตุงุต ุขโูพ']
                },
                'dns': {
                    name: 'ุฏโุงูโุงุณ',
                    keywords: ['dns', 'ุฏ ุงู ุงุณ', 'ุณุณุชู ูุงู ุฏุงููู']
                },
                'proxy': {
                    name: 'ูพุฑุงฺฉุณ',
                    keywords: ['proxy', 'ูพุฑุงฺฉุณ', 'ูุงูุฌ']
                },
                'vlan': {
                    name: 'ููุงู',
                    keywords: ['vlan', 'ููุงู', 'ุดุจฺฉู ูุญู ูุฌุงุฒ']
                },
                'bridge': {
                    name: 'ุจุฑุฌ',
                    keywords: ['bridge', 'ุจุฑุฌ', 'ูพู ุดุจฺฉู']
                },
                'bonding': {
                    name: 'ุจุงูุฏูฺฏ',
                    keywords: ['bonding', 'ุจุงูุฏูฺฏ', 'ุงุชุตุงู ฺูุฏ ุดุจฺฉู']
                },
                'wifi': {
                    name: 'ูุงโูุง',
                    keywords: ['wifi', 'ูุง ูุง', 'ุจโุณู']
                },
                
                // ุชูุณุนู
                'git': {
                    name: 'ฺฏุช',
                    keywords: ['git', 'ฺฏุช', 'ฺฉูุชุฑู ูุณุฎู']
                },
                'github': {
                    name: 'ฺฏุชโูุงุจ',
                    keywords: ['github', 'ฺฏุช ูุงุจ', 'ูุฎุฒู ฺฉุฏ']
                },
                'docker': {
                    name: 'ุฏุงฺฉุฑ',
                    keywords: ['docker', 'ุฏุงฺฉุฑ', 'ฺฉุงูุชูุฑ']
                },
                'kubernetes': {
                    name: 'ฺฉูุจุฑูุชุฒ',
                    keywords: ['kubernetes', 'ฺฉูุจุฑูุชุฒ', 'ฺฉูุจุฒ', 'ุงุฑฺฉุณุชุฑ ฺฉุงูุชูุฑ']
                },
                'vagrant': {
                    name: 'ูุงฺฏุฑูุช',
                    keywords: ['vagrant', 'ูุงฺฏุฑูุช', 'ูุงุดู ูุฌุงุฒ']
                },
                'ansible': {
                    name: 'ุงูุณุจู',
                    keywords: ['ansible', 'ุงูุณุจู', 'ุงุชููุงุณูู']
                },
                'jenkins': {
                    name: 'ุฌูฺฉูุฒ',
                    keywords: ['jenkins', 'ุฌูฺฉูุฒ', 'ฺฉูพุงุฑฺูโุณุงุฒ']
                },
                'npm': {
                    name: 'ุงูโูพโุงู',
                    keywords: ['npm', 'ุงู ูพ ุงู', 'ูุฏุฑุช ูพฺฉุฌ']
                },
                'yarn': {
                    name: 'ุงุฑู',
                    keywords: ['yarn', 'ุงุฑู', 'ูุฏุฑุช ูพฺฉุฌ']
                },
                'composer': {
                    name: 'ฺฉุงููพูุฒุฑ',
                    keywords: ['composer', 'ฺฉุงููพูุฒุฑ', 'ูุฏุฑุช ูพฺฉุฌ']
                },
                'gradle': {
                    name: 'ฺฏุฑุฏู',
                    keywords: ['gradle', 'ฺฏุฑุฏู', 'ุณุงุฎุช ุฎูุฏฺฉุงุฑ']
                },
                
                // ุณุฎุชโุงูุฒุงุฑ
                'drivers': {
                    name: 'ุฏุฑุงูุฑูุง',
                    keywords: ['drivers', 'ุฏุฑุงูุฑ', 'ุฑุงูโุงูุฏุงุฒ']
                },
                'gpu': {
                    name: 'ุฌโูพโู',
                    keywords: ['gpu', 'ุฌ ูพ ู', 'ฺฉุงุฑุช ฺฏุฑุงูฺฉ']
                },
                'cpu': {
                    name: 'ุณโูพโู',
                    keywords: ['cpu', 'ุณ ูพ ู', 'ูพุฑุฏุงุฒูุฏู']
                },
                'ram': {
                    name: 'ุฑู',
                    keywords: ['ram', 'ุฑู', 'ุญุงูุธู']
                },
                'storage': {
                    name: 'ุฐุฎุฑูโุณุงุฒ',
                    keywords: ['storage', 'ุฐุฎุฑู ุณุงุฒ', 'ูุงุฑุฏ ุฏุณฺฉ', 'ุงุณโุงุณโุฏ']
                },
                'usb': {
                    name: 'ูุงุณโุจ',
                    keywords: ['usb', 'ู ุงุณ ุจ', 'ุงุชุตุงู ูุงุณโุจ']
                },
                'bluetooth': {
                    name: 'ุจููุชูุซ',
                    keywords: ['bluetooth', 'ุจููุชูุซ', 'ุงุชุตุงู ุจููุชูุซ']
                },
                'printer': {
                    name: 'ูพุฑูุชุฑ',
                    keywords: ['printer', 'ูพุฑูุชุฑ', 'ฺุงูพฺฏุฑ']
                },
                'scanner': {
                    name: 'ุงุณฺฉูุฑ',
                    keywords: ['scanner', 'ุงุณฺฉูุฑ', 'ุงุณฺฉู']
                },
                'webcam': {
                    name: 'ูุจโฺฉู',
                    keywords: ['webcam', 'ูุจ ฺฉู', 'ุฏูุฑุจู ูุจ']
                },
                
                // ูุฌุงุฒโุณุงุฒ
                'virtualbox': {
                    name: 'ูุฑฺูุงูโุจุงฺฉุณ',
                    keywords: ['virtualbox', 'ูุฑฺูุงู ุจุงฺฉุณ', 'ูุงุดู ูุฌุงุฒ']
                },
                'vmware': {
                    name: 'ูโุงูโูุฑ',
                    keywords: ['vmware', 'ู ุงู ูุฑ', 'ูุงุดู ูุฌุงุฒ']
                },
                'kvm': {
                    name: 'ฺฉโูโุงู',
                    keywords: ['kvm', 'ฺฉ ู ุงู', 'ูุงุดู ูุฌุงุฒ']
                },
                'qemu': {
                    name: 'ฺฉูุงโุงูโู',
                    keywords: ['qemu', 'ฺฉู ุงูู', 'ุดุจูโุณุงุฒ']
                },
                'xen': {
                    name: 'ุฒู',
                    keywords: ['xen', 'ุฒู', 'ูุงูพุฑูุงุฒุฑ']
                },
                'hyper-v': {
                    name: 'ูุงูพุฑ-ู',
                    keywords: ['hyper-v', 'ูุงูพุฑ ู', 'ูุงูพุฑูุงุฒุฑ']
                },
                'proxmox': {
                    name: 'ูพุฑูฺฉุณโููฺฉุณ',
                    keywords: ['proxmox', 'ูพุฑูฺฉุณ ููฺฉุณ', 'ูุงูพุฑูุงุฒุฑ']
                },
                'lxc': {
                    name: 'ุงูโุงฺฉุณโุณ',
                    keywords: ['lxc', 'ุงู ุงฺฉุณ ุณ', 'ฺฉุงูุชูุฑ ูููฺฉุณ']
                },
                'openvz': {
                    name: 'ุงููพูโูโุฒ',
                    keywords: ['openvz', 'ุงููพู ู ุฒ', 'ฺฉุงูุชูุฑ']
                },
                'vagrant': {
                    name: 'ูุงฺฏุฑูุช',
                    keywords: ['vagrant', 'ูุงฺฏุฑูุช', 'ูุญุท ุชูุณุนู']
                },
                
                // ุงุจุฑ
                'aws': {
                    name: 'ุงโุฏุจููุงุณ',
                    keywords: ['aws', 'ุง ุฏุจูู ุงุณ', 'ุขูุงzon web services']
                },
                'azure': {
                    name: 'ุขฺูุฑ',
                    keywords: ['azure', 'ุขฺูุฑ', 'ูุงฺฉุฑูุณุงูุช ุขฺูุฑ']
                },
                'gcp': {
                    name: 'ุฌโุณโูพ',
                    keywords: ['gcp', 'ุฌ ุณ ูพ', 'google cloud platform']
                },
                'openstack': {
                    name: 'ุงููพูโุงุณุชฺฉ',
                    keywords: ['openstack', 'ุงููพู ุงุณุชฺฉ', 'ุงุจุฑ ุฎุตูุต']
                },
                'cloud-init': {
                    name: 'ฺฉูุงุฏ-ุงูุช',
                    keywords: ['cloud-init', 'ฺฉูุงุฏ ุงูุช', 'ูพฺฉุฑุจูุฏ ุงุจุฑ']
                },
                'terraform': {
                    name: 'ุชุฑุงููุฑู',
                    keywords: ['terraform', 'ุชุฑุงููุฑู', 'ุฒุฑุณุงุฎุช ุจู ุตูุฑุช ฺฉุฏ']
                },
                'packer': {
                    name: 'ูพฺฉุฑ',
                    keywords: ['packer', 'ูพฺฉุฑ', 'ุณุงุฎุช ูุงุดู ุงุจุฑ']
                },
                'consul': {
                    name: 'ฺฉุงูุณูู',
                    keywords: ['consul', 'ฺฉุงูุณูู', 'ฺฉุดู ุณุฑูุณ']
                },
                'vault': {
                    name: 'ููุช',
                    keywords: ['vault', 'ููุช', 'ูุฏุฑุช ุงุณุฑุงุฑ']
                },
                'nomad': {
                    name: 'ูููุฏ',
                    keywords: ['nomad', 'ูููุฏ', 'ุงุฑฺฉุณุชุฑ']
                }
            },
            
            // ุงุณุชุฎุฑุงุฌ ุชฺฏโูุง ุงุฒ ูุญุชูุง
            extractTags: function(content) {
                const tags = [];
                const text = content.toLowerCase();
                
                // ุจุฑุฑุณ ุชูุงู ุชฺฏโูุง
                for (const [tagId, tagData] of Object.entries(this.allTags)) {
                    for (const keyword of tagData.keywords) {
                        if (text.includes(keyword.toLowerCase())) {
                            tags.push({
                                id: tagId,
                                name: tagData.name
                            });
                            break;
                        }
                    }
                }
                
                // ุญุฐู ุชฺฏโูุง ุชฺฉุฑุงุฑ
                return tags.filter((tag, index, self) =>
                    index === self.findIndex(t => t.id === tag.id)
                );
            },
            
            // ุฏุฑุงูุช ูุงู ุชฺฏ ุจุฑ ุงุณุงุณ ุดูุงุณู
            getTagName: function(tagId) {
                return this.allTags[tagId]?.name || tagId;
            }
        };
        
        // ููุงุด ูุถุนุช ุจุงุฑฺฏุฐุงุฑ
        function showLoading() {
            document.getElementById('markdownContent').innerHTML = `
                <div class="loading flex flex-col items-center justify-center py-16">
                    <div class="spinner mb-4"></div>
                    <p class="text-gray-600">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ููุงูู...</p>
                </div>
            `;
            
            // ููุงุด ูุงฺฏ ุจุงุฑฺฏุฐุงุฑ
            const loadingLogElement = document.getElementById('loadingLog');
            loadingLogElement.style.display = 'block';
            loadingLogElement.innerHTML = '<div class="log-entry log-info">ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ูุงู...</div>';
            loadingLog = [];
        }
        
        // ุงูุฒูุฏู ูุฑูุฏ ุจู ูุงฺฏ
        function addLogEntry(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString('fa-IR');
            const logEntry = {
                timestamp,
                message,
                type
            };
            
            loadingLog.push(logEntry);
            
            const loadingLogElement = document.getElementById('loadingLog');
            const entryElement = document.createElement('div');
            entryElement.className = `log-entry log-${type}`;
            entryElement.textContent = `[${timestamp}] ${message}`;
            loadingLogElement.appendChild(entryElement);
            
            // ุงุณฺฉุฑูู ุจู ูพุงู ูุงฺฏ
            loadingLogElement.scrollTop = loadingLogElement.scrollHeight;
        }
        
        // ุชุงุจุน ุงุตู ุจุฑุง ููุฏุงุฑุฏู ุงููู
        async function init() {
            console.log('Initializing viewer...');
            loadPreferences();
            showLoading();
            await loadAllFileNames();
            await loadFile();
            setupEventListeners();
            generateTableOfContents();
            updateViewCount();
            loadComments();
            loadRelatedArticles();
            setupReadingProgress();
        }
        
        // ุจุงุฑฺฏุฐุงุฑ ุชูุธูุงุช
        function loadPreferences() {
            isDarkMode = localStorage.getItem('isDarkMode') === 'true';
            fontSize = parseInt(localStorage.getItem('fontSize') || '16');
            currentViewMode = localStorage.getItem('viewMode') || 'normal';
            
            // ุงุนูุงู ุชูุธูุงุช
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
            }
            
            // ุจูโุฑูุฒุฑุณุงู ุฏฺฉููโูุง ูุนุงู ุจุฏูู ุงุณุชูุงุฏู ุงุฒ event
            updateViewModeButtons(currentViewMode);
            setViewMode(currentViewMode);
            setFontSize(fontSize);
        }
        
        // ุจูโุฑูุฒุฑุณุงู ุฏฺฉููโูุง ุญุงูุช ููุงุด
        function updateViewModeButtons(mode) {
            document.querySelectorAll('.view-mode-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-mode') === mode) {
                    btn.classList.add('active');
                }
            });
        }
        
        // ุจุงุฑฺฏุฐุงุฑ ูุณุช ุชูุงู ูุงูโูุง
        async function loadAllFileNames() {
            try {
                addLogEntry('ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ูุณุช ูุงูโูุง ุงุฒ ฺฏุชโูุงุจ...');
                
                const GITHUB_API_BASE = 'https://api.github.com/repos/linuxpersian/linuxpersian.github.io/contents/wiki/source';
                const response = await fetch(GITHUB_API_BASE);
                
                if (!response.ok) {
                    throw new Error(`ุฎุทุง HTTP ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุณุช ูุงูโูุง! ูุถุนุช: ${response.status}`);
                }
                
                const files = await response.json();
                allFileNames = files
                    .filter(file => file.name.endsWith('.md'))
                    .map(file => file.name)
                    .sort(); // ูุฑุชุจโุณุงุฒ ุงููุจุง ุจุฑุง ูุงูุจุฑ ุจุนุฏ/ูุจู
                
                addLogEntry(`ุชุนุฏุงุฏ ${allFileNames.length} ูุงู ูุงุฑฺฉโุฏุงู ุงูุช ุดุฏ.`, 'success');
                console.log('All file names loaded:', allFileNames);
            } catch (error) {
                console.error('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุณุช ูุงูโูุง:', error);
                addLogEntry(`ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุณุช ูุงูโูุง: ${error.message}`, 'error');
                showToast('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุณุช ูุงูโูุง ุจุฑุง ูุงูุจุฑ.', 'error');
            }
        }
        
        // ุจุงุฑฺฏุฐุงุฑ ูุงู
        async function loadFile() {
            try {
                const urlParams = new URLSearchParams(window.location.search);
                let fileName = urlParams.get('file');
                
                if (!fileName) {
                    showError('ูุงู ูุงู ูุดุฎุต ูุดุฏู ุงุณุช.');
                    return;
                }
                
                // ุงุทููุงู ุงุฒ ุงูฺฉู ูุงู ูุงู ุฏุงุฑุง ูพุณููุฏ .md ุงุณุช
                if (!fileName.endsWith('.md')) {
                    fileName += '.md';
                }
                
                currentFile = fileName;
                addLogEntry(`ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ูุงู: ${fileName}`);
                
                // ุงุณุชูุงุฏู ุงุฒ ุขุฏุฑุณ ุตุญุญ ฺฏุชโูุงุจ
                const GITHUB_RAW_BASE = 'https://raw.githubusercontent.com/linuxpersian/linuxpersian.github.io/main/wiki/source';
                const fileUrl = `${GITHUB_RAW_BASE}/${fileName}`;
                
                addLogEntry(`ุฏุฑ ุญุงู ุงุฑุณุงู ุฏุฑุฎูุงุณุช ุจู: ${fileUrl}`);
                
                const response = await fetch(fileUrl);
                
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('ูุงู ููุฑุฏ ูุธุฑ ุงูุช ูุดุฏ. ููฺฉู ุงุณุช ุญุฐู ุดุฏู ุง ูุงู ุขู ุชุบุฑ ฺฉุฑุฏู ุจุงุดุฏ.');
                    } else {
                        throw new Error(`ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุงู: ${response.status} - ${response.statusText}`);
                    }
                }
                
                const content = await response.text();
                currentContent = content;
                
                addLogEntry('ูุงู ุจุง ููููุช ุจุงุฑฺฏุฐุงุฑ ุดุฏ.', 'success');
                
                // ุงุณุชุฎุฑุงุฌ ุนููุงู
                const titleMatch = content.match(/^#\s+(.+)$/m);
                const title = titleMatch ? titleMatch[1].trim() : fileName.replace('.md', '');
                
                document.getElementById('articleTitle').textContent = title;
                document.title = `${title} - ูฺฉ ูููฺฉุณ ูุงุฑุณ`;
                
                // ูพุฑุฏุงุฒุด ู ููุงุด ูุญุชูุง
                displayContent(content);
                
                // ุงุณุชุฎุฑุงุฌ ู ููุงุด ุชฺฏโูุง
                const tags = tagSystem.extractTags(content);
                displayTags(tags);
                
                // ุจูโุฑูุฒุฑุณุงู ุงุทูุงุนุงุช ูุชุง
                updateMetadata(content);
                
                // ุจุฑุฑุณ ูุถุนุช ูุดุงูโฺฏุฐุงุฑ
                checkBookmarkStatus();
                
                // ุจุงุฒุงุจ ูููุนุช ุฎูุงูุฏู
                restoreReadingPosition();
                
                // ูพููุงู ฺฉุฑุฏู ูุงฺฏ ุจุงุฑฺฏุฐุงุฑ ูพุณ ุงุฒ ููููุช
                setTimeout(() => {
                    document.getElementById('loadingLog').style.display = 'none';
                }, 3000);
                
                showToast('ููุงูู ุจุง ููููุช ุจุงุฑฺฏุฐุงุฑ ุดุฏ.', 'success');
            } catch (error) {
                console.error('Error loading file:', error);
                addLogEntry(`ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุงู: ${error.message}`, 'error');
                showErrorWithRetry(`ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ููุงูู: ${error.message}`);
            }
        }
        
        // ููุงุด ุฎุทุง ุจุง ุฏฺฉูู ุชูุงุด ูุฌุฏุฏ
        function showErrorWithRetry(message) {
            document.getElementById('markdownContent').innerHTML = `
                <div class="error-message p-8 bg-red-50 dark:bg-red-900/20 rounded-lg text-center">
                    <i class="fas fa-exclamation-triangle text-red-500 text-4xl mb-4"></i>
                    <h2 class="text-xl font-bold text-red-700 dark:text-red-300 mb-2">ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ููุงูู</h2>
                    <p class="text-red-600 dark:text-red-400 mb-6">${message}</p>
                    <button class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition mr-2" onclick="window.history.back()">
                        ุจุงุฒฺฏุดุช
                    </button>
                    <button class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition" onclick="retryLoading()">
                        ุชูุงุด ูุฌุฏุฏ
                    </button>
                </div>
            `;
        }
        
        // ุชูุงุด ูุฌุฏุฏ ุจุฑุง ุจุงุฑฺฏุฐุงุฑ
        function retryLoading() {
            showLoading();
            loadFile();
        }
        
        // ููุงุด ูุญุชูุง
        function displayContent(content) {
            try {
                // ูพฺฉุฑุจูุฏ marked.js
                marked.setOptions({
                    breaks: true,
                    gfm: true,
                    headerIds: true,
                    headerPrefix: 'heading-'
                });
                
                // ุชุจุฏู ูุงุฑฺฉโุฏุงู ุจู HTML
                let html = marked.parse(content);
                
                // ูพุฑุฏุงุฒุด HTML ุจุฑุง RTL ู ุงุณุชุงูโูุง
                html = processHTML(html);
                
                // ููุงุด ูุญุชูุง
                document.getElementById('markdownContent').innerHTML = html;
                
                // ูุงูุงุช ฺฉุฑุฏู ฺฉุฏ
                Prism.highlightAll();
                
                // ุงูุฒูุฏู ุฏฺฉูู ฺฉูพ ุจู ฺฉุฏูุง
                addCopyButtons();
                
                // ุงูุฒูุฏู ุฑูุฏุงุฏ ุจู ุชุตุงูุฑ ุจุฑุง ูุงุชโุจุงฺฉุณ
                setupImageLightbox();
            } catch (error) {
                console.error('Error processing content:', error);
                showError('ุฎุทุง ุฏุฑ ูพุฑุฏุงุฒุด ูุญุชูุง ููุงูู.');
            }
        }
        
        // ูพุฑุฏุงุฒุด HTML
        function processHTML(html) {
            // ุชูุธู ุฌูุช ูุชู
            html = html.replace(/<p>/g, '<p dir="auto">');
            html = html.replace(/<h[1-6]>/g, '<h$1 dir="auto">');
            html = html.replace(/<li>/g, '<li dir="auto">');
            html = html.replace(/<blockquote>/g, '<blockquote dir="auto">');
            
            // ุงุณุชุงูโูุง ุชุตุงูุฑ
            html = html.replace(/<img/g, '<img class="rounded-lg shadow-lg my-4 cursor-pointer"');
            
            // ุงุณุชุงูโูุง ุฌุฏุงูู
            html = html.replace(/<table>/g, '<table class="w-full border-collapse my-6">');
            html = html.replace(/<th>/g, '<th class="border px-4 py-2 bg-gray-100 dark:bg-gray-700">');
            html = html.replace(/<td>/g, '<td class="border px-4 py-2">');
            
            // ุงุณุชุงูโูุง ฺฉุฏ
            html = html.replace(/<pre>/g, '<pre class="rounded-lg overflow-x-auto my-4">');
            html = html.replace(/<code>/g, '<code class="rounded">');
            
            return html;
        }
        
        // ุงูุฒูุฏู ุฏฺฉูู ฺฉูพ ุจู ฺฉุฏูุง
        function addCopyButtons() {
            document.querySelectorAll('pre').forEach(pre => {
                const button = document.createElement('button');
                button.className = 'copy-code-btn';
                button.textContent = 'ฺฉูพ';
                button.onclick = () => copyCode(pre);
                pre.appendChild(button);
            });
        }
        
        // ฺฉูพ ฺฉุฑุฏู ฺฉุฏ
        function copyCode(pre) {
            const code = pre.querySelector('code');
            const text = code.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                showToast('ฺฉุฏ ุจุง ููููุช ฺฉูพ ุดุฏ.', 'success');
            }).catch(err => {
                console.error('Error copying code:', err);
                showToast('ุฎุทุง ุฏุฑ ฺฉูพ ฺฉุฑุฏู ฺฉุฏ.', 'error');
            });
        }
        
        // ุชูุธู ูุงุชโุจุงฺฉุณ ุชุตุงูุฑ
        function setupImageLightbox() {
            document.querySelectorAll('.markdown-content img').forEach(img => {
                img.addEventListener('click', () => {
                    document.getElementById('lightboxImage').src = img.src;
                    document.getElementById('lightbox').style.display = 'flex';
                });
            });
        }
        
        // ุจุณุชู ูุงุชโุจุงฺฉุณ
        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
        }
        
        // ุชููุฏ ููุฑุณุช ูุทุงูุจ
        function generateTableOfContents() {
            const headings = document.querySelectorAll('.markdown-content h1, .markdown-content h2, .markdown-content h3');
            const toc = document.getElementById('tableOfContents');
            
            if (headings.length === 0) {
                toc.innerHTML = '<p class="text-gray-500">ููุฑุณุช ูุทุงูุจ ุงูุช ูุดุฏ.</p>';
                return;
            }
            
            toc.innerHTML = '';
            
            headings.forEach((heading, index) => {
                const level = parseInt(heading.tagName.substring(1));
                const text = heading.textContent;
                const id = heading.id || `heading-${index}`;
                
                heading.id = id;
                
                const item = document.createElement('div');
                item.className = 'toc-item';
                item.style.paddingRight = `${(level - 1) * 1}rem`;
                
                const link = document.createElement('a');
                link.href = `#${id}`;
                link.className = 'toc-link';
                link.textContent = text;
                link.onclick = (e) => {
                    e.preventDefault();
                    heading.scrollIntoView({ behavior: 'smooth' });
                    
                    // ุจูโุฑูุฒุฑุณุงู ููฺฉ ูุนุงู
                    document.querySelectorAll('.toc-link').forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                };
                
                item.appendChild(link);
                toc.appendChild(item);
            });
        }
        
        // ููุงุด ุชฺฏโูุง
        function displayTags(tags) {
            const tagsContainer = document.getElementById('tagsCloud');
            
            if (tags.length === 0) {
                tagsContainer.innerHTML = '<p class="text-gray-500">ุชฺฏ ุงูุช ูุดุฏ.</p>';
                return;
            }
            
            tagsContainer.innerHTML = '';
            
            tags.forEach(tag => {
                const tagElement = document.createElement('span');
                tagElement.className = 'tag';
                tagElement.textContent = tag.name;
                tagElement.onclick = () => filterByTag(tag.id);
                tagsContainer.appendChild(tagElement);
            });
        }
        
        // ููุชุฑ ุจุฑ ุงุณุงุณ ุชฺฏ
        function filterByTag(tagId) {
            showToast(`ููุงุด ููุงูุงุช ูุฑุชุจุท ุจุง: ${tagSystem.getTagName(tagId)}`, 'info');
            // ุฏุฑ ุงูุฌุง ูโุชูุงู ููุทู ููุชุฑ ฺฉุฑุฏู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏ
        }
        
        // ุจูโุฑูุฒุฑุณุงู ุงุทูุงุนุงุช ูุชุง
        function updateMetadata(content) {
            // ูุญุงุณุจู ุฒูุงู ุฎูุงูุฏู
            const wordsPerMinute = 200;
            const wordCount = content.split(/\s+/).length;
            const readingTime = Math.ceil(wordCount / wordsPerMinute);
            
            // ุจูโุฑูุฒุฑุณุงู ููุงุด
            document.getElementById('metaDate').textContent = new Date().toLocaleDateString('fa-IR');
            document.getElementById('metaReadingTime').textContent = `${readingTime} ุฏููู`;
            document.getElementById('metaWordCount').textContent = `${wordCount.toLocaleString('fa-IR')} ฺฉููู`;
            document.getElementById('metaViews').textContent = '1,234 ุจุงุฒุฏุฏ';
            document.getElementById('metaRating').textContent = '4.7/5';
        }
        
        // ุจุฑุฑุณ ูุถุนุช ูุดุงูโฺฏุฐุงุฑ
        function checkBookmarkStatus() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
            isBookmarked = bookmarks.includes(currentFile);
            
            const icon = document.getElementById('bookmarkIcon');
            if (isBookmarked) {
                icon.classList.add('fas');
                icon.classList.remove('far');
            } else {
                icon.classList.add('far');
                icon.classList.remove('fas');
            }
        }
        
        // ุชุบุฑ ูุถุนุช ูุดุงูโฺฏุฐุงุฑ
        function toggleBookmark() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
            
            if (isBookmarked) {
                // ุญุฐู ุงุฒ ูุดุงูโูุง
                const index = bookmarks.indexOf(currentFile);
                if (index > -1) {
                    bookmarks.splice(index, 1);
                }
                showToast('ุงุฒ ูุดุงูโูุง ุญุฐู ุดุฏ.', 'info');
            } else {
                // ุงูุฒูุฏู ุจู ูุดุงูโูุง
                bookmarks.push(currentFile);
                showToast('ุจู ูุดุงูโูุง ุงูุฒูุฏู ุดุฏ.', 'success');
            }
            
            localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
            isBookmarked = !isBookmarked;
            checkBookmarkStatus();
        }
        
        // ุจุงุฒุงุจ ูููุนุช ุฎูุงูุฏู
        function restoreReadingPosition() {
            const position = localStorage.getItem(`readingPosition_${currentFile}`);
            if (position) {
                window.scrollTo(0, parseInt(position));
            }
        }
        
        // ุฐุฎุฑู ูููุนุช ุฎูุงูุฏู
        function saveReadingPosition() {
            if (currentFile) {
                localStorage.setItem(`readingPosition_${currentFile}`, window.scrollY);
            }
        }
        
        // ุฌุณุชุฌู ุฏุฑ ููุงูู
        function searchInArticle() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            
            if (!query) {
                clearSearchHighlights();
                return;
            }
            
            // ูพุงฺฉ ฺฉุฑุฏู ูุงูุงุชโูุง ูุจู
            clearSearchHighlights();
            
            // ุฌุณุชุฌู ู ูุงูุงุช
            const content = document.getElementById('markdownContent');
            const walker = document.createTreeWalker(
                content,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const regex = new RegExp(`(${query})`, 'gi');
            searchHighlights = [];
            
            while (walker.nextNode()) {
                const node = walker.currentNode;
                const text = node.textContent;
                
                if (text.toLowerCase().includes(query)) {
                    const span = document.createElement('span');
                    span.innerHTML = text.replace(regex, '<span class="search-highlight">$1</span>');
                    node.parentNode.replaceChild(span, node);
                    
                    // ุฐุฎุฑู ูููุนุชโูุง ูุงูุงุช
                    const highlights = span.querySelectorAll('.search-highlight');
                    highlights.forEach(highlight => {
                        searchHighlights.push(highlight);
                    });
                }
            }
            
            // ุงุณฺฉุฑูู ุจู ุงููู ูุชุฌู
            if (searchHighlights.length > 0) {
                currentSearchIndex = 0;
                searchHighlights[currentSearchIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
                showToast(`${searchHighlights.length} ูุชุฌู ุงูุช ุดุฏ.`, 'success');
            } else {
                showToast('ูฺ ูุชุฌูโุง ุงูุช ูุดุฏ.', 'error');
            }
        }
        
        // ูพุงฺฉ ฺฉุฑุฏู ูุงูุงุชโูุง ุฌุณุชุฌู
        function clearSearchHighlights() {
            const highlights = document.querySelectorAll('.search-highlight');
            highlights.forEach(highlight => {
                const parent = highlight.parentNode;
                parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
                parent.normalize();
            });
            searchHighlights = [];
        }
        
        // ุชูุธู ุฑูุฏุงุฏูุง
        function setupEventListeners() {
            // ุฑูุฏุงุฏ ุงุณฺฉุฑูู ุจุฑุง ุฐุฎุฑู ูููุนุช ุฎูุงูุฏู ู ููุงุฑ ูพุดุฑูุช
            window.addEventListener('scroll', () => {
                if (document.getElementById('autoSave')?.checked) {
                    saveReadingPosition();
                }
                updateReadingProgress();
            });
            
            // ุฑูุฏุงุฏ ฺฉูุฏ ุจุฑุง ุฌุณุชุฌู
            document.getElementById('searchInput').addEventListener('keyup', (e) => {
                if (e.key === 'Enter') {
                    searchInArticle();
                }
                if (e.key === 'Escape') {
                    clearSearchHighlights();
                    document.getElementById('searchInput').value = '';
                }
            });
            
            // ุฑูุฏุงุฏ ุชุบุฑ ุงูุฏุงุฒู ูููุช
            document.getElementById('justifyText')?.addEventListener('change', (e) => {
                const content = document.getElementById('markdownContent');
                if (e.target.checked) {
                    content.style.textAlign = 'justify';
                } else {
                    content.style.textAlign = 'right';
                }
            });
            
            // ุฑูุฏุงุฏ ุชุบุฑ ุดูุงุฑู ุฎุทูุท ฺฉุฏ
            document.getElementById('lineNumbers')?.addEventListener('change', (e) => {
                const codes = document.querySelectorAll('pre code');
                codes.forEach(code => {
                    if (e.target.checked) {
                        // ุงูุฒูุฏู ุดูุงุฑู ุฎุทูุท
                        const lines = code.textContent.split('\n');
                        const numberedLines = lines.map((line, i) => {
                            return `<span class="line-number">${i + 1}</span>${line}`;
                        }).join('\n');
                        code.innerHTML = numberedLines;
                    } else {
                        // ุญุฐู ุดูุงุฑู ุฎุทูุท
                        const lines = code.innerHTML.split('\n');
                        const cleanLines = lines.map(line => {
                            return line.replace(/<span class="line-number">\d+<\/span>/, '');
                        }).join('\n');
                        code.innerHTML = cleanLines;
                    }
                });
            });
            
            // ุฑูุฏุงุฏูุง ฺฉุจูุฑุฏ
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + K ุจุฑุง ุฌุณุชุฌู
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                }
                
                // Ctrl/Cmd + D ุจุฑุง ุญุงูุช ุชุงุฑฺฉ
                if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
                    e.preventDefault();
                    toggleDarkMode();
                }
                
                // Ctrl/Cmd + P ุจุฑุง ฺุงูพ
                if ((e.ctrlKey || e.metaKey) && e.key === 'p') {
                    e.preventDefault();
                    window.print();
                }
                
                // Ctrl/Cmd + S ุจุฑุง ุฐุฎุฑู
                if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                    e.preventDefault();
                    downloadMarkdown();
                }
                
                // Ctrl/Cmd + B ุจุฑุง ูุดุงูโฺฏุฐุงุฑ
                if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
                    e.preventDefault();
                    toggleBookmark();
                }
                
                // F3 ุจุฑุง ุฌุณุชุฌู ุจุนุฏ
                if (e.key === 'F3' && searchHighlights.length > 0) {
                    e.preventDefault();
                    navigateSearchResults(1);
                }
                
                // Shift + F3 ุจุฑุง ุฌุณุชุฌู ูุจู
                if (e.key === 'F3' && e.shiftKey && searchHighlights.length > 0) {
                    e.preventDefault();
                    navigateSearchResults(-1);
                }
            });
        }
        
        // ูุงูุจุฑ ูุชุงุฌ ุฌุณุชุฌู
        function navigateSearchResults(direction) {
            if (searchHighlights.length === 0) return;
            
            currentSearchIndex += direction;
            
            if (currentSearchIndex >= searchHighlights.length) {
                currentSearchIndex = 0;
            } else if (currentSearchIndex < 0) {
                currentSearchIndex = searchHighlights.length - 1;
            }
            
            searchHighlights[currentSearchIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        // ุชุบุฑ ุญุงูุช ููุงุด
        function setViewMode(mode, buttonElement = null) {
            currentViewMode = mode;
            localStorage.setItem('viewMode', mode);
            
            // ุญุฐู ุชูุงู ฺฉูุงุณโูุง ุญุงูุช
            document.body.classList.remove('reading-mode', 'night-mode', 'focus-mode');
            
            // ุงูุฒูุฏู ฺฉูุงุณ ุญุงูุช ุฌุฏุฏ
            switch (mode) {
                case 'reading':
                    document.body.classList.add('reading-mode');
                    break;
                case 'night':
                    document.body.classList.add('night-mode');
                    break;
                case 'focus':
                    document.body.classList.add('focus-mode');
                    break;
            }
            
            // ุจูโุฑูุฒุฑุณุงู ุฏฺฉููโูุง ูุนุงู
            if (buttonElement) {
                document.querySelectorAll('.view-mode-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                buttonElement.classList.add('active');
            } else {
                updateViewModeButtons(mode);
            }
        }
        
        // ุชุบุฑ ุญุงูุช ุชุงุฑฺฉ
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            localStorage.setItem('isDarkMode', isDarkMode);
            
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
        }
        
        // ุชุบุฑ ุงูุฏุงุฒู ูููุช
        function setFontSize(size) {
            fontSize = size;
            localStorage.setItem('fontSize', size);
            document.getElementById('markdownContent').style.fontSize = `${size}px`;
        }
        
        function increaseFontSize() {
            if (fontSize < 24) {
                setFontSize(fontSize + 2);
            }
        }
        
        function decreaseFontSize() {
            if (fontSize > 12) {
                setFontSize(fontSize - 2);
            }
        }
        
        // ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ููุงูู
        function shareArticle() {
            if (navigator.share) {
                navigator.share({
                    title: document.getElementById('articleTitle').textContent,
                    text: 'ููุงูู ุฌุงูุจ ุงุฒ ูฺฉ ูููฺฉุณ ูุงุฑุณ',
                    url: window.location.href
                })
                .then(() => showToast('ููุงูู ุจุง ููููุช ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดุฏ.', 'success'))
                .catch((error) => console.log('Error sharing:', error));
            } else {
                // ฺฉูพ ฺฉุฑุฏู ููฺฉ ุจู ฺฉููพโุจูุฑุฏ
                navigator.clipboard.writeText(window.location.href)
                    .then(() => showToast('ููฺฉ ููุงูู ฺฉูพ ุดุฏ.', 'success'))
                    .catch(() => showToast('ุฎุทุง ุฏุฑ ฺฉูพ ููฺฉ.', 'error'));
            }
        }
        
        // ุฏุงูููุฏ ูุงุฑฺฉโุฏุงู
        function downloadMarkdown() {
            if (!currentContent) {
                showToast('ูุญุชูุง ุจุฑุง ุฏุงูููุฏ ูุฌูุฏ ูุฏุงุฑุฏ.', 'error');
                return;
            }
            
            const blob = new Blob([currentContent], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = currentFile;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('ูุงู ุจุง ููููุช ุฏุงูููุฏ ุดุฏ.', 'success');
        }
        
        // ุงุณฺฉุฑูู ุจู ุจุงูุง
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // ุจุงุฒ ฺฉุฑุฏู ููุฏุงู
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }
        
        // ุจุณุชู ููุฏุงู
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // ุชูุธู ุชู ุฑูฺฏ
        function setTheme(theme) {
            // ุญุฐู ฺฉูุงุณ ูุนุงู ุงุฒ ุชูุงู ฺฏุฒููโูุง
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('active');
            });
            
            // ุงูุฒูุฏู ฺฉูุงุณ ูุนุงู ุจู ฺฏุฒูู ุงูุชุฎุงุจ ุดุฏู
            document.querySelector(`.theme-${theme}`).classList.add('active');
            
            // ุฏุฑ ุงูุฌุง ูโุชูุงู ููุทู ุชุบุฑ ุชู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏ
            localStorage.setItem('theme', theme);
            showToast(`ุชู ${theme} ุงุนูุงู ุดุฏ.`, 'success');
        }
        
        // ุฐุฎุฑู ุชูุธูุงุช
        function saveSettings() {
            const settings = {
                isDarkMode: isDarkMode,
                fontSize: fontSize,
                viewMode: currentViewMode,
                theme: localStorage.getItem('theme') || 'default',
                justifyText: document.getElementById('justifyText')?.checked || false,
                lineNumbers: document.getElementById('lineNumbers')?.checked || false,
                autoSave: document.getElementById('autoSave')?.checked || true,
                loadImages: document.getElementById('loadImages')?.checked || true
            };
            
            localStorage.setItem('settings', JSON.stringify(settings));
            closeModal('settingsModal');
            showToast('ุชูุธูุงุช ุจุง ููููุช ุฐุฎุฑู ุดุฏ.', 'success');
        }
        
        // ููุงุด ุงุนูุงู
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            
            toastContainer.appendChild(toast);
            
            // ุญุฐู ุงุนูุงู ูพุณ ุงุฒ 3 ุซุงูู
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => {
                    toastContainer.removeChild(toast);
                }, 300);
            }, 3000);
        }
        
        // ููุงุด ุฎุทุง
        function showError(message) {
            showToast(message, 'error');
            document.getElementById('markdownContent').innerHTML = `
                <div class="error-message p-8 bg-red-50 dark:bg-red-900/20 rounded-lg text-center">
                    <i class="fas fa-exclamation-triangle text-red-500 text-4xl mb-4"></i>
                    <h2 class="text-xl font-bold text-red-700 dark:text-red-300 mb-2">ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ููุงูู</h2>
                    <p class="text-red-600 dark:text-red-400">${message}</p>
                    <button class="mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition" onclick="window.history.back()">
                        ุจุงุฒฺฏุดุช
                    </button>
                </div>
            `;
        }
        
        // ุจูโุฑูุฒุฑุณุงู ุชุนุฏุงุฏ ุจุงุฒุฏุฏ
        function updateViewCount() {
            // ุฏุฑ ฺฉ ูพุงุฏูโุณุงุฒ ูุงูุนุ ุงู ุงุทูุงุนุงุช ุงุฒ ุณุฑูุฑ ุฏุฑุงูุช ูโุดูุฏ
            // ุงูุฌุง ููุท ฺฉ ููุงุด ุดุจูโุณุงุฒ ุดุฏู ุงุณุช
            const viewsElement = document.getElementById('metaViews');
            if (viewsElement) {
                const currentViews = parseInt(viewsElement.textContent.replace(/[^\d]/g, ''));
                const newViews = currentViews + 1;
                viewsElement.textContent = `${newViews.toLocaleString('fa-IR')} ุจุงุฒุฏุฏ`;
            }
        }
        
        // ุจุงุฑฺฏุฐุงุฑ ูุธุฑุงุช
        function loadComments() {
            const commentsList = document.getElementById('commentsList');
            
            // ุฏุฑ ฺฉ ูพุงุฏูโุณุงุฒ ูุงูุนุ ูุธุฑุงุช ุงุฒ ุณุฑูุฑ ุฏุฑุงูุช ูโุดููุฏ
            // ุงูุฌุง ฺูุฏ ูุธุฑ ููููู ููุงุด ุฏุงุฏู ูโุดูุฏ
            const sampleComments = [
                {
                    author: 'ุนู ุฑุถุง',
                    date: 'ฑดฐฒ/ฐต/ฑฐ',
                    text: 'ููุงูู ุจุณุงุฑ ููุฏ ุจูุฏ. ููููู ุงุฒ ุชูุถุญุงุช ฺฉุงูู ุดูุง.'
                },
                {
                    author: 'ุณุงุฑุง ูุญูุฏ',
                    date: 'ฑดฐฒ/ฐต/ฐธ',
                    text: 'ูู ุงุฒ ุงู ุฑุงูููุง ุจุฑุง ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ ุฎูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏู ู ุฎู ููุฏ ุจูุฏ.'
                },
                {
                    author: 'ุฑุถุง ูุงุณู',
                    date: 'ฑดฐฒ/ฐต/ฐต',
                    text: 'ุขุง ูโุชูุงูุฏ ูุณุฎู ูพุดุฑูุชูโุชุฑ ุงุฒ ุงู ููุงูู ููุชุดุฑ ฺฉูุฏุ'
                }
            ];
            
            commentsList.innerHTML = '';
            
            sampleComments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment';
                commentElement.innerHTML = `
                    <div class="comment-header">
                        <div class="comment-author">${comment.author}</div>
                        <div class="comment-date">${comment.date}</div>
                    </div>
                    <div class="comment-text">${comment.text}</div>
                `;
                commentsList.appendChild(commentElement);
            });
        }
        
        // ุงุฑุณุงู ูุธุฑ
        function submitComment() {
            const commentInput = document.getElementById('commentInput');
            const commentText = commentInput.value.trim();
            
            if (!commentText) {
                showToast('ูุทูุงู ูุชู ูุธุฑ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ.', 'error');
                return;
            }
            
            // ุฏุฑ ฺฉ ูพุงุฏูโุณุงุฒ ูุงูุนุ ูุธุฑ ุจู ุณุฑูุฑ ุงุฑุณุงู ูโุดูุฏ
            // ุงูุฌุง ููุท ฺฉ ููุงุด ุดุจูโุณุงุฒ ุดุฏู ุงุณุช
            const commentsList = document.getElementById('commentsList');
            const newComment = document.createElement('div');
            newComment.className = 'comment';
            newComment.innerHTML = `
                <div class="comment-header">
                    <div class="comment-author">ฺฉุงุฑุจุฑ ูููุงู</div>
                    <div class="comment-date">${new Date().toLocaleDateString('fa-IR')}</div>
                </div>
                <div class="comment-text">${commentText}</div>
            `;
            
            commentsList.insertBefore(newComment, commentsList.firstChild);
            commentInput.value = '';
            
            showToast('ูุธุฑ ุดูุง ุจุง ููููุช ุงุฑุณุงู ุดุฏ.', 'success');
        }
        
        // ุจุงุฑฺฏุฐุงุฑ ููุงูุงุช ูุฑุชุจุท
        function loadRelatedArticles() {
            const relatedContainer = document.getElementById('relatedArticles');
            
            // ุฏุฑ ฺฉ ูพุงุฏูโุณุงุฒ ูุงูุนุ ููุงูุงุช ูุฑุชุจุท ุงุฒ ุณุฑูุฑ ุฏุฑุงูุช ูโุดููุฏ
            // ุงูุฌุง ฺูุฏ ููุงูู ููููู ููุงุด ุฏุงุฏู ูโุดูุฏ
            const sampleArticles = [
                {
                    title: 'ูุตุจ ุงูุจููุชู ฒฒ.ฐด',
                    url: 'viewer.html?file=ubuntu-install.md'
                },
                {
                    title: 'ูพฺฉุฑุจูุฏ ูุงุฑูุงู ุฏุฑ ูููฺฉุณ',
                    url: 'viewer.html?file=firewall-config.md'
                },
                {
                    title: 'ูุฏุฑุช ฺฉุงุฑุจุฑุงู ุฏุฑ ูููฺฉุณ',
                    url: 'viewer.html?file=user-management.md'
                }
            ];
            
            relatedContainer.innerHTML = '';
            
            sampleArticles.forEach(article => {
                const articleElement = document.createElement('div');
                articleElement.className = 'mb-2';
                articleElement.innerHTML = `
                    <a href="${article.url}" class="text-blue-600 hover:text-blue-800 hover:underline">
                        ${article.title}
                    </a>
                `;
                relatedContainer.appendChild(articleElement);
            });
        }
        
        // ุชูุธู ููุงุฑ ูพุดุฑูุช ุฎูุงูุฏู
        function setupReadingProgress() {
            window.addEventListener('scroll', updateReadingProgress);
        }
        
        // ุจูโุฑูุฒุฑุณุงู ููุงุฑ ูพุดุฑูุช ุฎูุงูุฏู
        function updateReadingProgress() {
            const scrollTop = window.pageYOffset;
            const docHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            
            document.getElementById('readingProgressBar').style.width = `${scrollPercent}%`;
        }
        
        // ุงุฌุฑุง ุชุงุจุน ููุฏุงุฑุฏู ุงููู ูพุณ ุงุฒ ุจุงุฑฺฏุฐุงุฑ ุตูุญู
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
